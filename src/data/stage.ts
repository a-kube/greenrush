import k from "../initKaboom";
import { GameObj, Vec2, Color } from "kaboom";
import { RECYCLE_TYPE } from "./recycle";
import { IRect } from "../definition";
import { getBezierControlPoint, getPointsQBezierCurves } from "../common/util";
import { g_StagePosX, g_StagePosY, g_StageWidth } from "../global";

const { vec2, get, rgb } = k;

const INIT_CONBELT_SPEED_1 = 100;
export type RANDOM_EFFECT = "RE_RAIN" | "RE_THUNDER" | "RE_MICE" | "RE_CLOUD";

export interface ICreditInfo {
    name: string;
    grade: string;
    school: string;
}

export interface IConBeltInfo {
    name: string;
    pos: Vec2;
    dir: number;
    count: number;
    initSpeed: number;
    oldSpeed: number;
    speed: number;
    oldLoopInterval: number;
    loopInterval: number;
    incinerator: number;
    isGenerator: boolean;
    connectedConBelt: number;
    cogsPos: Vec2[];
    wayPoints: Vec2[];
    dropCurvePoints: Vec2[];
    dropCurveLength: number;
    pointsInitialized: boolean;
    portal: GameObj | undefined;
}

export interface IRecycleBinInfo {
    name: string;
    type: RECYCLE_TYPE;
}

export interface IStageInfo {
    index: number;
    bkgMainImage: string;
    bkgBackImage: string;
    bkgColor: Color;
    bgm: string;
    gPoint: number;
    dPoint: number;
    cleanerPos: Vec2;
    icineratorRect: IRect[];
    incineratorScale: number;
    conBeltInfo: IConBeltInfo[];
    recycleBinInfo: IRecycleBinInfo[];
    randomEffect: RANDOM_EFFECT[];
}

export let stageInfo: IStageInfo[] = [
    {
        index: 0,
        bkgMainImage: "bkgM07",
        bkgBackImage: "",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm01",
        gPoint: 5,
        dPoint: 5,
        cleanerPos: vec2(400, 34),
        icineratorRect: [{ x: 780, y: 410, width: -1, height: -1 }],
        incineratorScale: 0.7,
        randomEffect: ["RE_RAIN", "RE_THUNDER", "RE_MICE"],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 270),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 3,
                oldLoopInterval: 4,
                loopInterval: 4,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(780, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
        ],
    },
    {
        index: 1,
        bkgMainImage: "bkgM05",
        bkgBackImage: "",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm01",
        gPoint: 20,
        dPoint: 10,
        cleanerPos: vec2(400, 34),
        icineratorRect: [{ x: 780, y: 410, width: -1, height: -1 }],
        incineratorScale: 0.7,
        randomEffect: ["RE_MICE"],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 270),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: 120,
                oldSpeed: 120,
                speed: 120,
                count: 3,
                oldLoopInterval: 3,
                loopInterval: 3,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(780, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
        ],
    },
    {
        index: 2,
        bkgMainImage: "bkgM05",
        bkgBackImage: "",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm01",
        gPoint: 20,
        dPoint: 10,
        cleanerPos: vec2(400, 34),
        icineratorRect: [{ x: 780, y: 410, width: -1, height: -1 }],
        incineratorScale: 0.7,
        randomEffect: ["RE_MICE"],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 270),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: 150,
                oldSpeed: 150,
                speed: 150,
                count: 3,
                oldLoopInterval: 2,
                loopInterval: 2,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(780, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
        ],
    },
    {
        index: 3,
        bkgMainImage: "bkgM05",
        bkgBackImage: "",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm01",
        gPoint: 20,
        dPoint: 10,
        cleanerPos: vec2(400, 34),
        icineratorRect: [{ x: 400, y: 410, width: -1, height: -1 }],
        incineratorScale: 0.7,
        randomEffect: [],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 270),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 4,
                loopInterval: 4,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 270),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 4,
                loopInterval: 4,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
        ],
    },
    {
        index: 4,
        bkgMainImage: "bkgM05",
        bkgBackImage: "",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm01",
        gPoint: 20,
        dPoint: 10,
        cleanerPos: vec2(400, 34),
        icineratorRect: [{ x: 400, y: 410, width: -1, height: -1 }],
        incineratorScale: 0.7,
        randomEffect: [],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 270),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: 3,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 4,
                loopInterval: 4,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 370),
                dir: 0,
                incinerator: 0,
                isGenerator: false,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 7,
                loopInterval: 7,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 270),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: 1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 5,
                loopInterval: 5,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 370),
                dir: 1,
                incinerator: 0,
                isGenerator: false,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 6,
                loopInterval: 6,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
            /*{ name: "rb06", type: "RT_SCRAP_METAL" },*/
        ],
    },
    {
        index: 5,
        bkgMainImage: "bkgM05",
        bkgBackImage: "",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm01",
        gPoint: 20,
        dPoint: 10,
        cleanerPos: vec2(400, 34),
        icineratorRect: [{ x: 400, y: 410, width: -1, height: -1 }],
        incineratorScale: 0.7,
        randomEffect: [],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 270),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: 3,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 4,
                loopInterval: 4,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 370),
                dir: 0,
                incinerator: 0,
                isGenerator: false,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 7,
                loopInterval: 7,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 270),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: 1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 4,
                loopInterval: 4,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 370),
                dir: 1,
                incinerator: 0,
                isGenerator: false,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 6,
                loopInterval: 6,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
            /*{ name: "rb06", type: "RT_SCRAP_METAL" },*/
        ],
    },
    {
        index: 6,
        bkgMainImage: "bkgM02",
        bkgBackImage: "bkgB05",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm04",
        gPoint: 20,
        dPoint: 10,
        cleanerPos: vec2(400, 34),
        icineratorRect: [{ x: 400, y: 410, width: -1, height: -1 }],
        incineratorScale: 0.7,
        randomEffect: [],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 270),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: 3,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: 150,
                count: 1,
                oldLoopInterval: 3,
                loopInterval: 3,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 370),
                dir: 0,
                incinerator: 0,
                isGenerator: false,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 5,
                loopInterval: 5,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 270),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: 1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 2,
                loopInterval: 2,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 370),
                dir: 1,
                incinerator: 0,
                isGenerator: false,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 6,
                loopInterval: 6,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
            /*{ name: "rb06", type: "RT_SCRAP_METAL" },*/
        ],
    },
    {
        index: 7,
        bkgMainImage: "bkgM02",
        bkgBackImage: "bkgB02",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm04",
        gPoint: 30,
        dPoint: 10,
        cleanerPos: vec2(720, 34),
        icineratorRect: [
            { x: 440, y: 480, width: -1, height: -1 },
        ],
        incineratorScale: 0.4,
        randomEffect: ["RE_MICE"],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 270),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: 3,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: 150,
                count: 1,
                oldLoopInterval: 2,
                loopInterval: 2,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 370),
                dir: 0,
                incinerator: 0,
                isGenerator: false,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 5,
                loopInterval: 5,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 270),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: 1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 2,
                loopInterval: 2,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 370),
                dir: 1,
                incinerator: 0,
                isGenerator: false,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 6,
                loopInterval: 6,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
            /*{ name: "rb06", type: "RT_SCRAP_METAL" },*/
            { name: "rb07", type: "RT_GLASS" },
        ],
    },
    {
        index: 8,
        bkgMainImage: "bkgM02",
        bkgBackImage: "bkgB02",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm04",
        gPoint: 30,
        dPoint: 10,
        cleanerPos: vec2(720, 34),
        icineratorRect: [
            { x: 440, y: 480, width: -1, height: -1 },
        ],
        incineratorScale: 0.4,
        randomEffect: ["RE_MICE"],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 270),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: 3,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: 150,
                count: 1,
                oldLoopInterval: 3,
                loopInterval: 3,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 370),
                dir: 0,
                incinerator: 0,
                isGenerator: false,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 5,
                loopInterval: 5,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 270),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: 1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 1,
                loopInterval: 1,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 370),
                dir: 1,
                incinerator: 0,
                isGenerator: false,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 6,
                loopInterval: 6,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
            /*{ name: "rb06", type: "RT_SCRAP_METAL" },*/
            { name: "rb07", type: "RT_GLASS" },
        ],
    },
    {
        index: 9,
        bkgMainImage: "bkgM02",
        bkgBackImage: "bkgB06",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm04",
        gPoint: 30,
        dPoint: 10,
        cleanerPos: vec2(720, 34),
        icineratorRect: [
            { x: 440, y: 480, width: -1, height: -1 }
        ],
        incineratorScale: 0.4,
        randomEffect: ["RE_MICE"],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 270),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: 150,
                count: 1,
                oldLoopInterval: 6,
                loopInterval: 6,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 370),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 5,
                loopInterval: 5,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 270),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 6,
                loopInterval: 6,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 370),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 6,
                loopInterval: 6,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
            /*{ name: "rb06", type: "RT_SCRAP_METAL" },*/
            { name: "rb07", type: "RT_GLASS" },
        ],
    },
    {
        index: 10,
        bkgMainImage: "bkgM02",
        bkgBackImage: "bkgB03",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm04",
        gPoint: 30,
        dPoint: 10,
        cleanerPos: vec2(720, 34),
        icineratorRect: [
            { x: 440, y: 480, width: -1, height: -1 },
            { x: 590, y: 200, width: -1, height: -1 },
        ],
        incineratorScale: 0.4,
        randomEffect: ["RE_MICE"],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 70),
                dir: 0,
                incinerator: 1,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 2,
                oldLoopInterval: 10,
                loopInterval: 10,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(568, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 210),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: 0,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 5,
                loopInterval: 5,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 370),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: 3,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 6,
                loopInterval: 6,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 270),
                dir: 1,
                incinerator: 0,
                isGenerator: false,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 20,
                loopInterval: 20,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
            /*{ name: "rb06", type: "RT_SCRAP_METAL" },*/
            { name: "rb07", type: "RT_GLASS" },
        ],
    },
    {
        index: 11,
        bkgMainImage: "bkgM06",
        bkgBackImage: "bkgB07",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm04",
        gPoint: 30,
        dPoint: 10,
        cleanerPos: vec2(720, 34),
        icineratorRect: [
            { x: 440, y: 480, width: -1, height: -1 },
            { x: 590, y: 200, width: -1, height: -1 },
        ],
        incineratorScale: 0.4,
        randomEffect: ["RE_MICE"],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 70),
                dir: 0,
                incinerator: 1,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 2,
                oldLoopInterval: 4,
                loopInterval: 4,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(568, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 210),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 8,
                loopInterval: 8,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 370),
                dir: 0,
                incinerator: 0,
                isGenerator: false,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 6,
                loopInterval: 6,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 270),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: 2,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 2,
                loopInterval: 2,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
            /*{ name: "rb06", type: "RT_SCRAP_METAL" },*/
            { name: "rb07", type: "RT_GLASS" },
        ],
    },
    {
        index: 12,
        bkgMainImage: "bkgM06",
        bkgBackImage: "bkgB04",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm03",
        gPoint: 30,
        dPoint: 10,
        cleanerPos: vec2(720, 34),
        icineratorRect: [
            { x: 440, y: 480, width: -1, height: -1 },
            { x: 600, y: 150, width: -1, height: -1 },
        ],
        incineratorScale: 0.4,
        randomEffect: ["RE_MICE"],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 70),
                dir: 0,
                incinerator: 1,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 2,
                oldLoopInterval: 4,
                loopInterval: 4,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(568, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 210),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 8,
                loopInterval: 8,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 370),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 6,
                loopInterval: 6,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 270),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: 2,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 2,
                loopInterval: 2,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
            { name: "rb06", type: "RT_SCRAP_METAL" },
            { name: "rb07", type: "RT_GLASS" },
        ],
    },
    {
        index: 13,
        bkgMainImage: "bkgM03",
        bkgBackImage: "",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm03",
        gPoint: 30,
        dPoint: 20,
        cleanerPos: vec2(720, 34),
        icineratorRect: [
            { x: 440, y: 380, width: -1, height: -1 },
        ],
        incineratorScale: 0.35,
        randomEffect: ["RE_THUNDER"],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 210),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 4,
                loopInterval: 4,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 370),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 4,
                loopInterval: 4,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 270),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 3,
                loopInterval: 3,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
            /*{ name: "rb06", type: "RT_SCRAP_METAL" },*/
            { name: "rb07", type: "RT_GLASS" },
        ],
    },
    {
        index: 14,
        bkgMainImage: "bkgM03",
        bkgBackImage: "",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm02",
        gPoint: 30,
        dPoint: 10,
        cleanerPos: vec2(720, 34),
        icineratorRect: [
            { x: 440, y: 380, width: -1, height: -1 },
            { x: 680, y: 255, width: -1, height: -1 },
        ],
        incineratorScale: 0.4,
        randomEffect: ["RE_RAIN"],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 70),
                dir: 0,
                incinerator: 1,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 2,
                oldLoopInterval: 1,
                loopInterval: 1,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(568, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 210),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 5,
                loopInterval: 5,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 370),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 5,
                loopInterval: 5,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 270),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 7,
                loopInterval: 7,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
            /*{ name: "rb06", type: "RT_SCRAP_METAL" },*/
            { name: "rb07", type: "RT_GLASS" },
        ],
    },
    {
        index: 15,
        bkgMainImage: "bkgM01",
        bkgBackImage: "",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm02",
        gPoint: 30,
        dPoint: 10,
        cleanerPos: vec2(720, 34),
        icineratorRect: [
            { x: 440, y: 380, width: -1, height: -1 },
            { x: 440, y: 380, width: -1, height: -1 },
        ],
        incineratorScale: 0.4,
        randomEffect: ["RE_RAIN"],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 70),
                dir: 0,
                incinerator: 1,
                isGenerator: true,
                connectedConBelt: 1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 2,
                oldLoopInterval: 2,
                loopInterval: 2,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(568, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 270),
                dir: 0,
                incinerator: 0,
                isGenerator: false,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 5,
                loopInterval: 5,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 370),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: 4,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 3,
                loopInterval: 3,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 270),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 7,
                loopInterval: 7,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 370),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 10,
                loopInterval: 10,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
            /*{ name: "rb06", type: "RT_SCRAP_METAL" },*/
            { name: "rb07", type: "RT_GLASS" },
        ],
    },
    {
        index: 16,
        bkgMainImage: "bkgM01",
        bkgBackImage: "",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm02",
        gPoint: 30,
        dPoint: 10,
        cleanerPos: vec2(720, 34),
        icineratorRect: [
            { x: 440, y: 380, width: -1, height: -1 },
            { x: 680, y: 255, width: -1, height: -1 },
        ],
        incineratorScale: 0.4,
        randomEffect: ["RE_THUNDER"],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 70),
                dir: 0,
                incinerator: 1,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 2,
                oldLoopInterval: 3,
                loopInterval: 3,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(568, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 270),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 5,
                loopInterval: 5,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 370),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: 3,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 5,
                loopInterval: 5,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 270),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 7,
                loopInterval: 7,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 370),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 15,
                loopInterval: 15,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
            /*{ name: "rb06", type: "RT_SCRAP_METAL" },*/
            { name: "rb07", type: "RT_GLASS" },
        ],
    },
    {
        index: 17,
        bkgMainImage: "bkgM04",
        bkgBackImage: "",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm05",
        gPoint: 30,
        dPoint: 10,
        cleanerPos: vec2(720, 34),
        icineratorRect: [
            { x: 440, y: 380, width: -1, height: -1 },
            { x: 600, y: 200, width: -1, height: -1 },
        ],
        incineratorScale: 0.4,
        randomEffect: ["RE_RAIN"],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 70),
                dir: 0,
                incinerator: 1,
                isGenerator: true,
                connectedConBelt: 4,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 2,
                oldLoopInterval: 2,
                loopInterval: 2,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(568, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 270),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 7,
                loopInterval: 7,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 370),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: 4,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 7,
                loopInterval: 7,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 270),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 5,
                loopInterval: 5,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 370),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 10,
                loopInterval: 10,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
            /*{ name: "rb06", type: "RT_SCRAP_METAL" },*/
            { name: "rb07", type: "RT_GLASS" },

        ],
    },
    {
        index: 18,
        bkgMainImage: "bkgM04",
        bkgBackImage: "",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm05",
        gPoint: 30,
        dPoint: 10,
        cleanerPos: vec2(720, 34),
        icineratorRect: [
            { x: 440, y: 380, width: -1, height: -1 },
            { x: 600, y: 200, width: -1, height: -1 },
        ],
        incineratorScale: 0.4,
        randomEffect: ["RE_RAIN"],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 70),
                dir: 0,
                incinerator: 1,
                isGenerator: true,
                connectedConBelt: 4,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 2,
                oldLoopInterval: 1,
                loopInterval: 1,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(568, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 270),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 3,
                loopInterval: 3,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 370),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 7,
                loopInterval: 7,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 270),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 10,
                loopInterval: 10,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 370),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 7,
                loopInterval: 7,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
            /*{ name: "rb06", type: "RT_SCRAP_METAL" },*/
            { name: "rb07", type: "RT_GLASS" },
        ],
    },
    {
        index: 19,
        bkgMainImage: "bkgM04",
        bkgBackImage: "",
        bkgColor: rgb(0, 0, 0),
        bgm: "bgm05",
        gPoint: 30,
        dPoint: 10,
        cleanerPos: vec2(720, 34),
        icineratorRect: [
            { x: 440, y: 380, width: -1, height: -1 },
            { x: 600, y: 200, width: -1, height: -1 },
        ],
        incineratorScale: 0.4,
        randomEffect: ["RE_THUNDER"],
        conBeltInfo: [
            {
                name: "conBeltR",
                pos: vec2(0, 70),
                dir: 0,
                incinerator: 1,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 2,
                oldLoopInterval: 1,
                loopInterval: 1,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(568, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 270),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 3,
                loopInterval: 3,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltR",
                pos: vec2(0, 370),
                dir: 0,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 5,
                loopInterval: 5,
                cogsPos: [],
                wayPoints: [vec2(0, 80), vec2(368, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 270),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 7,
                loopInterval: 7,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
            {
                name: "conBeltL",
                pos: vec2(g_StageWidth - 368, 370),
                dir: 1,
                incinerator: 0,
                isGenerator: true,
                connectedConBelt: -1,
                initSpeed: INIT_CONBELT_SPEED_1,
                oldSpeed: INIT_CONBELT_SPEED_1,
                speed: INIT_CONBELT_SPEED_1,
                count: 1,
                oldLoopInterval: 10,
                loopInterval: 10,
                cogsPos: [],
                wayPoints: [vec2(368, 80), vec2(0, 80)],
                dropCurvePoints: [],
                dropCurveLength: 0,
                pointsInitialized: false,
                portal: undefined,
            },
        ],
        recycleBinInfo: [
            { name: "rb01", type: "RT_PLASTIC" },
            { name: "rb02", type: "RT_VINYL" },
            { name: "rb03", type: "RT_PAPER" },
            { name: "rb04", type: "RT_PLASTIC_PET" },
            { name: "rb05", type: "RT_CAN" },
            /*{ name: "rb06", type: "RT_SCRAP_METAL" },*/
            { name: "rb07", type: "RT_GLASS" },
        ],
    },
];

export function initConBeltSpeed(stage: number) {
    stageInfo[stage].conBeltInfo.forEach((conBelt: IConBeltInfo) => (conBelt.speed = conBelt.initSpeed));
}

export function setConBeltSpeed(stage: number, speed: number) {
    stageInfo[stage].conBeltInfo.forEach((conBelt: IConBeltInfo) => {
        conBelt.oldSpeed = conBelt.speed;
        conBelt.speed = speed;
    });
    get("Recycle").forEach((obj: GameObj) => {
        obj.oldSpeed = obj.speed;
        obj.speed = speed;
    });
}

export function restoreConBeltSpeed(stage: number) {
    stageInfo[stage].conBeltInfo.forEach((conBelt: IConBeltInfo) => (conBelt.speed = conBelt.oldSpeed));
    get("Recycle").forEach((obj: GameObj) => {
        obj.speed = obj.oldSpeed;
    });
}

export function retoreConbeltLoopInterval(stage: number) {
    stageInfo[stage].conBeltInfo.forEach((conBelt: IConBeltInfo) => (conBelt.loopInterval = conBelt.oldLoopInterval));
}

export function initWayPoint(stage: number) {
    stageInfo[stage].conBeltInfo.forEach((cb) => {
        if (!cb.pointsInitialized) {
            cb.wayPoints.forEach((point) => {
                point.x += g_StagePosX + cb.pos.x;
                point.y += g_StagePosY + cb.pos.y;
            });

            initCurvePoint(stage, cb);
            cb.pointsInitialized = true;
        }
    });
}

export function resetWayPoint(stage: number) {
    stageInfo[stage].conBeltInfo.forEach((cb) => {
        cb.wayPoints.forEach((point) => {
            point.x -= g_StagePosX + cb.pos.x;
            point.y -= g_StagePosY + cb.pos.y;
        });
    });
}

export function initCurvePoint(stage: number, conBelt: IConBeltInfo) {
    const p0: Vec2 = conBelt.wayPoints[conBelt.wayPoints.length - 1];
    const incineratorRect: IRect = stageInfo[stage].icineratorRect[conBelt.incinerator];
    const p2: Vec2 = vec2(
        g_StagePosX + incineratorRect.x + incineratorRect.width / 2,
        g_StagePosY + incineratorRect.y + incineratorRect.height / 2
    );
    const p1: Vec2 = getBezierControlPoint(p0, p2, 50);
    const curvePoints: Vec2[] = getPointsQBezierCurves(p0, p1, p2, 10);
    conBelt.dropCurvePoints = [...curvePoints];

    conBelt.dropCurveLength = curvePoints.reduce<number>((result: number, value: Vec2, index: number): number => {
        return result + (index < curvePoints.length - 1 ? value.dist(curvePoints[index + 1]) : 0);
    }, 0);
}
